# **4+1視圖建模及架構設計工程實踐**
11024134 陳家蓁 11024225 林晉維
佔春良：碧桂園服務技術專家，專案架構師，前阿里資深軟體工程師，12年技術開發經驗。
# 01 前言
架構設計建模的目的是透過統一的UML語言，完成業務的梳理，並對業務系統進行合理的組織（分層、分模組），以提高系統的可擴展性、可重用性、可移植性、易理解性和易測試性，從而達到一個高品質屬性的軟體系統。

架構設計的關鍵內容主要包含以下幾個面向：

劃分邏輯視圖：確定領域；

選擇架構風格：確定領域的架構風格，如單體或分散式；

梳理領域之間依賴關係，並進行適當抽象（隔離依賴）；

技術選型（可選）。

**前置條件**
：在進行架構設計之前，我們需要先整理清楚業務流程，並使用UML統一語言來呈現統一的組織價值目標。透過清晰的圖標，我們可以更好地傳達訊息，一圖勝過千文。
# 02 架構建模簡介
# 1、"4+1"視圖組織建模
本文主要介紹「4+1」視圖架構建模的過程，先來看看「4+1」視圖模型定義：
![image]()
「4+1」視圖是描述邏輯架構的重要工具，最早由Philippe Kruchten提出。目前「4+1」視圖已成為主流的架構設計標準。本文中，我們將聚焦於用例視圖對業務流程的梳理（如何進行有效的組織業務建模）以及邏輯視圖、開發視圖的分層架構開發程式碼實務。

組織業務建模是關鍵的業務梳理環節，在「4+1」視圖中，使用案例視圖需要準確表達組織的業務用例和系統用例。因此，在開始之前，我們先對用例圖和UML的一些要點進行準備。
# 2、業務用例和系統用例的區分
# 2.1 業務用例
業務用例的定義是指業務執行者希望透過和所研究組織進行互動來獲得價值。在定義業務用例時，我們需要將視角放在組織外部和執行者身上，專注於他們希望從組織中獲得什麼價值，而不是僅僅關注組織能提供什麼（註：這個價值不是指組織能提供什麼，而是指執行者想要什麼）。

以小區物業的充電樁管理中心為例，其業務執行者主要是業主。儘管小區物業可以提供投訴等服務，但業主對充電樁管理中心最大的需求是充電服務，因此，「業主->充電」就是物業充電樁管理中心的業務用例，提供充電服務則是該組織的最大價值所在。
![image]()
# 2.2 系統用例
系統用例的定義是指系統能夠為執行者提供的、涉眾可以接受的價值。為了解釋這個概念，我們需要先明確：

1、系統

指封裝了自身的資料和行為，並能獨立對外提供服務的實體。一個系統可能包含多個子系統。

2、執行者

指在研究系統外，與該系統發生功能性互動的其他人或系統。

說明：

系統執行者一定是在系統外的，可以是人或其他系統；

系統執行者必須與系統互動；

系統執行者不一定是業務執行者。

3、涉眾

主要指與要建置的業務系統相關的一切人和事，包括系統執行者在內。

以小區物業為例，當業主需要進行公區設備報修時，他們會透過微信告訴管家在小區什麼地方、哪個設備有問題需要修理，然後管家透過企微對話框提交報修單。研究該場景的報修下單系統，我們可以得到：

系統執行者：管家。儘管業主是物業服務組織的業務執行者，但直接與報銷下單系統進行互動的是管家，因此管家是該系統的系統執行者。

涉眾：包括業主、管家、工程人員和專案經理等等，因為他們都是報修下單系統的利害關係人。
![image]()
因此，從上述分析可以得出提交報修單和查看報修單滿足系統用例的概念。以下是該系統用例圖：
